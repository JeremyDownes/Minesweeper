(this["webpackJsonpminesweeper-new"]=this["webpackJsonpminesweeper-new"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),s=(a(15),a(2)),l=a(3),h=a(5),c=a(4),u=a(6),d=a.n(u),p=a(9),m=a(1),f=(a(17),function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(m.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target.value;(t>0||""===t)&&(""===t&&(t=void 0),this.props.onChange(this.props.field,t))}},{key:"render",value:function(){return r.a.createElement("input",{onChange:this.handleChange})}}]),a}(r.a.Component)),g=(a(18),function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n.updateState=n.updateState.bind(Object(m.a)(n)),n.startGame=n.startGame.bind(Object(m.a)(n)),n}return Object(l.a)(a,[{key:"updateState",value:function(e,t){var a=this.state;a[e]=t,this.setState(a)}},{key:"startGame",value:function(){this.state.Bombs<this.state.Columns*this.state.Rows&&this.state.Rows&&this.state.Columns&&this.state.Bombs&&this.props.startGame(this.state)}},{key:"render",value:function(){return r.a.createElement("ul",null,r.a.createElement("li",null,"Points",r.a.createElement("span",null,this.props.points)),r.a.createElement("li",null,"Rows",r.a.createElement(f,{field:"Rows",onChange:this.updateState})),r.a.createElement("li",null,"Columns",r.a.createElement(f,{field:"Columns",onChange:this.updateState})),r.a.createElement("li",null,"Bombs",r.a.createElement(f,{field:"Bombs",onChange:this.updateState})),r.a.createElement("li",null,"Play",r.a.createElement("button",{onClick:this.startGame})))}}]),a}(r.a.Component)),b=(a(19),function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).position=n.props.position,n.handleClick=n.handleClick.bind(Object(m.a)(n)),n.drop=n.drop.bind(Object(m.a)(n)),n.fontSize="2rem",n}return Object(l.a)(a,[{key:"handleClick",value:function(e){this.props.handleClick(this.props.position[0],this.props.position[1]),"B"===this.props.board.playerBoard[this.position[0]][this.position[1]]&&alert("BOOM!!!")}},{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"drop",value:function(e){this.props.handleDrop(e,this.position)}},{key:"render",value:function(){this.props.board.playerBoard[0].length>17?this.fontSize="1rem":this.fontSize="2rem",this.style={border:1/this.props.board.playerBoard.length*9+"vw outset",fontSize:this.fontSize};var e=this.props.board.playerBoard[this.position[0]][this.position[1]];return" "!==e&&(this.style={border:"1px solid darkgray",overflow:"hidden",fontSize:this.fontSize}),r.a.createElement("button",{className:"square",onClick:this.handleClick,onDragOver:this.allowDrop,onDrop:this.drop,style:this.style},e,this.props.children)}}]),a}(r.a.Component)),v=(a(20),function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(m.a)(n)),n}return Object(l.a)(a,[{key:"handleClick",value:function(e,t){this.props.handleClick(e,t)}},{key:"render",value:function(){var e=this,t={gridTemplateColumns:"1fr ".repeat(this.props.board.playerBoard[0].length),gridTemplateRows:"1fr ".repeat(this.props.board.playerBoard.length)},a=-1,n=-1;return r.a.createElement("div",{className:"board",style:t},this.props.board.playerBoard.map((function(t){return a++,t.map((function(t){return n++,n%=e.props.board.playerBoard[0].length,r.a.createElement(b,{board:e.props.board,position:[a,n],handleClick:e.handleClick,handleDrop:e.props.handleDrop})}))})))}}]),a}(r.a.Component)),y=function(){function e(t,a,n){Object(s.a)(this,e),this._numberOfBombs=n,this._numberOfTiles=t*a,this._playerBoard=e.generatePlayerBoard(t,a),this._bombBoard=e.generateBombBoard(t,a,n)}return Object(l.a)(e,[{key:"flipTile",value:function(e,t){" "===this._playerBoard[e][t]?("B"===this._bombBoard[e][t]?this._playerBoard[e][t]="B":this._playerBoard[e][t]=this.getNumberOfNeighborBombs(e,t),this._numberOfTiles--):alert("This tile has already been flipped!")}},{key:"getNumberOfNeighborBombs",value:function(e,t){var a=this,n=this._bombBoard.length,r=this._bombBoard[0].length,o=0;return[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]].forEach((function(i){var s=e+i[0],l=t+i[1];s>=0&&s<n&&l>=0&&l<r&&"B"===a._bombBoard[s][l]&&o++})),o}},{key:"playerBoard",get:function(){return this._playerBoard}},{key:"bombBoard",get:function(){return this._bombBoard}},{key:"hasSafeTiles",get:function(){return this._numberOfTiles-this._numberOfBombs}}],[{key:"generatePlayerBoard",value:function(e,t){for(var a=[],n=0;n<e;n++){for(var r=[],o=0;o<t;o++)r.push(" ");a.push(r)}return a}},{key:"generateBombBoard",value:function(e,t,a){for(var n=[],r=0;r<e;r++){for(var o=[],i=0;i<t;i++)o.push(null);n.push(o)}for(var s=0;s<a;){var l=Math.floor(Math.random()*e),h=Math.floor(Math.random()*t);"B"!==n[l][h]&&(n[l][h]="B",s++)}return n}}]),e}(),B=(a(21),function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDrag=n.handleDrag.bind(Object(m.a)(n)),n}return Object(l.a)(a,[{key:"handleDrag",value:function(e){this.props.dragStart(e.target.id)}},{key:"render",value:function(){return r.a.createElement("figure",{draggable:"true",onDrag:this.handleDrag,id:this.props.id},"\u2691")}}]),a}(r.a.Component)),O=function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={game:new y(3,3,1),gameVars:{Rows:3,Columns:3,Bombs:1}},n.startGame=n.startGame.bind(Object(m.a)(n)),n.playMove=n.playMove.bind(Object(m.a)(n)),n.handleDrop=n.handleDrop.bind(Object(m.a)(n)),n.flagDrag=n.flagDrag.bind(Object(m.a)(n)),n.checkFlagged=n.checkFlagged.bind(Object(m.a)(n)),n.neighborOffsets=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],n.points=0,n.magnitude=n.state.game.playerBoard.length*n.state.game.playerBoard[0].length*n.state.game._numberOfBombs,n.flagId=null,n.flagged={},n}return Object(l.a)(a,[{key:"startGame",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.state.gameVars,e.next=3,new y(t.Rows,t.Columns,t.Bombs);case 3:a=e.sent,this.newGame(a,t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"newGame",value:function(e,t){this.magnitude=this.state.game.playerBoard.length*this.state.game.playerBoard[0].length*this.state.game._numberOfBombs;for(var a=0;a<this.state.gameVars.Bombs;a++)document.getElementById(a)&&document.getElementById("base").insertAdjacentElement("beforeend",document.getElementById(a));this.flagged={};try{this.setState({game:e,gameVars:t})}catch(n){window.location.reload()}}},{key:"clear",value:function(e,t){var a=this;this.neighborOffsets.forEach((function(n){if(0!==a.state.game.hasSafeTiles){var r=n[0]+e,o=n[1]+t;r>=0&&o>=0&&r<a.state.game.playerBoard.length&&o<a.state.game.playerBoard[0].length&&" "===a.state.game.playerBoard[r][o]&&a.playMove(r,o)}}))}},{key:"playMove",value:function(e,t){if(!this.checkFlagged(e,t)){if(this.state.game.flipTile(e,t),"B"===this.state.game.playerBoard[e][t])return this.points-=this.magnitude,void this.startGame();if(this.points++,0===this.state.game.hasSafeTiles){var a={Rows:Number(this.state.gameVars.Rows)+1,Columns:Number(this.state.gameVars.Columns)+1,Bombs:Number(this.state.gameVars.Bombs)+1};return alert("You Win!!!"),this.points+=this.magnitude,void this.startGame(a)}0===this.state.game.playerBoard[e][t]&&(this.state.game.playerBoard[e][t]="",this.clear(e,t));var n=this.state.game;this.setState({game:n})}}},{key:"checkFlagged",value:function(e,t){var a=!1,n=[e,t];return Object.values(this.flagged).forEach((function(e){String(e)===String(n)&&(a=!0)})),a}},{key:"flagDrag",value:function(e){this.flagId=e}},{key:"handleDrop",value:function(e,t){this.flagged[this.flagId]=t,e.target.insertAdjacentElement("beforeend",document.getElementById(this.flagId))}},{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"generateFlagArray",value:function(){for(var e=[],t=0;t<this.state.gameVars.Bombs;t++)e.push(r.a.createElement(B,{dragStart:this.flagDrag,id:t}));return e}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,{startGame:this.startGame,points:this.points,dragStart:this.flagDrag,bombs:this.state.gameVars.Bombs}),r.a.createElement("div",{onDragOver:this.allowDrop,onDrop:this.handleDrop,style:{height:".75rem",position:"relative",bottom:".3rem"},id:"base"},this.generateFlagArray()),r.a.createElement(v,{handleClick:this.playMove,board:this.state.game,startGame:this.startGame,handleDrop:this.handleDrop}))}}]),a}(r.a.Component),k=(a(22),function(e){Object(h.a)(a,e);var t=Object(c.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,{onChange:this.render}))}}]),a}(n.Component)),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(k,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/Minesweeper",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/Minesweeper","/service-worker.js");w?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):j(e)}))}}()}],[[10,1,2]]]);
//# sourceMappingURL=main.997801ff.chunk.js.map